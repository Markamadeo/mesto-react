(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(4),o=n.n(s),i=n(2);var l=function(){return Object(a.jsx)("footer",{className:"footer",children:Object(a.jsx)("p",{className:"footer__text",children:"\xa9 2020 Mesto Russia"})})},u=n.p+"static/media/header__logo.c2821b38.svg";var m=function(){return Object(a.jsx)("section",{className:"header header_shift_down header_shift_up",children:Object(a.jsx)("img",{src:u,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"header__logo"})})};var d=function(e){return Object(a.jsx)("section",{className:e.card.clicked&&e.onClose?"form form_type_foto-viewer form_status_active":"form form_type_foto-viewer",children:Object(a.jsxs)("figure",{className:"form__container form__container_type_foto-viewer",children:[Object(a.jsx)("button",{type:"button",onClick:e.onClosePopup,className:"form__close-button form__close-button_type_foto-viewer-close-button"}),Object(a.jsx)("img",{src:e.card.card.link,alt:e.card.name,className:"form__foto-viewer-img"}),Object(a.jsx)("figcaption",{className:"form__foto-viewer-description",children:e.card.name})]})})},j=n(5),f=n(6),h=new(function(){function e(t){Object(j.a)(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}return Object(f.a)(e,[{key:"getUserInfo",value:function(){return fetch(this.baseUrl+"/users/me",{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u0441\u0442\u0430\u0442\u0443\u0441 ".concat(e.status))})).catch((function(e){return alert(e)}))}},{key:"initialCards",value:function(){return fetch(this.baseUrl+"/cards",{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0433\u0430\u043b\u0435\u0440\u0435\u0438, \u0441\u0442\u0430\u0442\u0443\u0441 ".concat(e.status))})).catch((function(e){return alert(e)}))}},{key:"sendProfileInfo",value:function(e){var t=e.value0,n=e.value1;return fetch(this.baseUrl+"/users/me",{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t,about:n})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440, \u0441\u0442\u0430\u0442\u0443\u0441 ".concat(e.status))})).catch((function(e){return alert(e)}))}},{key:"sendNewCard",value:function(e){return fetch(this.baseUrl+"/cards",{method:"POST",headers:this.headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440, \u0441\u0442\u0430\u0442\u0443\u0441 ".concat(e.status))})).catch((function(e){return alert(e)}))}},{key:"deleteCard",value:function(e){return fetch(this.baseUrl+"/cards/".concat(e),{method:"DELETE",headers:this.headers}).then((function(e){if(!e.ok)return Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435, \u0441\u0442\u0430\u0442\u0443\u0441 ".concat(e.status));console.log("\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430!")})).catch((function(e){return alert(e)}))}},{key:"addLikePhoto",value:function(e){return fetch(this.baseUrl+"/cards/likes/".concat(e),{method:"PUT",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c like, \u0441\u0442\u0430\u0442\u0443\u0441 ".concat(e.status))})).catch((function(e){return alert(e)}))}},{key:"removeLikePhoto",value:function(e){return fetch(this.baseUrl+"/cards/likes/".concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c like, \u0441\u0442\u0430\u0442\u0443\u0441 ".concat(e.status))})).catch((function(e){return alert(e)}))}},{key:"changeAvatar",value:function(e){return fetch(this.baseUrl+"/users/me/avatar",{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e.value0})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440, \u0441\u0442\u0430\u0442\u0443\u0441 ".concat(e.status))})).catch((function(e){return alert(e)}))}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-17",headers:{authorization:"ce46bc36-f433-488f-bf62-df1955cfcd45","Content-Type":"application/json"}});var _=function(e){var t=e.card,n=e.onClickCard;return Object(a.jsxs)("li",{className:"gallery-item",children:[Object(a.jsx)("button",{type:"button",className:"gallery-item__trash-button"}),Object(a.jsx)("img",{onClick:function(){n(t)},src:t.link,alt:t.name,className:"gallery-item__image"}),Object(a.jsxs)("div",{className:"gallery-item__content",children:[Object(a.jsx)("h2",{className:"gallery-item__title",children:t.name}),Object(a.jsxs)("div",{className:"gallery-item__like-container",children:[Object(a.jsx)("button",{type:"button",className:"gallery-item__heart-button"}),Object(a.jsx)("p",{className:"gallery-item__like-counter",children:t.likes.length})]})]})]})};var b=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),r=n[0],s=n[1],o=Object(c.useState)(""),l=Object(i.a)(o,2),u=l[0],m=l[1],d=Object(c.useState)(""),j=Object(i.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)([]),O=Object(i.a)(p,2),x=O[0],v=O[1];return Object(c.useEffect)((function(){h.getUserInfo().then((function(e){s(e.name),m(e.about),b(e.avatar)}))}),[r,u,f]),Object(c.useEffect)((function(){h.initialCards().then((function(e){v(e)}))}),[]),Object(a.jsxs)("div",{className:"page__container",children:[Object(a.jsxs)("section",{className:"profile profile_shift_down",children:[Object(a.jsxs)("div",{className:"profile__avatar-container",children:[Object(a.jsx)("img",{src:f,alt:"\u0410\u0432\u0430\u0442\u0430\u0440",className:"profile__image"}),Object(a.jsx)("button",{onClick:e.onEditAvatar,className:"profile__avatar-button"})]}),Object(a.jsxs)("div",{className:"profile__info-container",children:[Object(a.jsxs)("div",{className:"profile__info-container-item",children:[Object(a.jsx)("h1",{className:"profile__full-name",children:r}),Object(a.jsx)("button",{onClick:e.onEditProfile,type:"button",className:"profile__edit-botton"})]}),Object(a.jsx)("div",{className:"profile__info-container-item",children:Object(a.jsx)("p",{className:"profile__description",children:u})})]}),Object(a.jsx)("button",{onClick:e.onAddPlace,type:"button",className:"profile__add-botton"})]}),Object(a.jsx)("ul",{className:"gallery gallery_shift_down",children:x.map((function(t,n){return Object(a.jsx)(_,{card:t,onClickCard:e.onClickCard},n)}))})]})};var p=function(e){return Object(a.jsx)("section",{className:e.isOpen&&e.onClose?"form form_type_".concat(e.name," form_status_active"):"form form_type_".concat(e.name),children:Object(a.jsxs)("form",{className:"form__container form__container_type_submit-form",name:"".concat(e.name,"Popup"),noValidate:!0,children:[Object(a.jsx)("button",{onClick:e.closePopup,type:"button",className:"form__close-button"}),Object(a.jsx)("h2",{className:"form__title",children:e.title}),e.children,Object(a.jsx)("button",{name:"".concat(e.name,"Submit"),type:"submit",className:"form__submit-button",children:e.buttonText})]})})};var O=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!1),o=Object(i.a)(s,2),u=o[0],j=o[1],f=Object(c.useState)(!1),h=Object(i.a)(f,2),_=h[0],O=h[1],x=Object(c.useState)(),v=Object(i.a)(x,2),N=v[0],k=v[1],y=Object(c.useState)({clicked:!1,card:{link:"#",name:""}}),g=Object(i.a)(y,2),C=g[0],P=g[1];function S(){k(!N),r(!1),j(!1),O(!1),P({clicked:!1,card:{link:"#",name:""}})}return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("main",{className:"page",children:[Object(a.jsx)(m,{}),Object(a.jsx)(b,{onEditProfile:function(){j(!u),k(!0)},onAddPlace:function(){O(!_),k(!0)},onEditAvatar:function(){r(!n),k(!0)},onClickCard:function(e){k(!0),P({clicked:!0,card:e})}}),Object(a.jsx)(l,{})]}),Object(a.jsx)(p,{name:"change-avatar",isOpen:n,onClose:N,closePopup:S,title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0410\u0432\u0430\u0442\u0430\u0440",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:Object(a.jsxs)("div",{className:"form__input-container",children:[Object(a.jsx)("input",{name:"avatar",type:"url",className:"form__textinput form__textinput_type_change-avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0410\u0432\u0430\u0442\u0430\u0440",required:!0}),Object(a.jsx)("span",{className:"form__error",id:"avatar-error"})]})}),Object(a.jsxs)(p,{name:"edit",isOpen:u,onClose:N,closePopup:S,title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:[Object(a.jsxs)("div",{className:"form__input-container",children:[Object(a.jsx)("input",{name:"fullName",type:"text",className:"form__textinput form__textinput_type_edit-full-name",required:!0,minLength:"2",maxLength:"40"}),Object(a.jsx)("span",{className:"form__error",id:"fullName-error"})]}),Object(a.jsxs)("div",{className:"form__input-container",children:[Object(a.jsx)("input",{name:"description",type:"text",className:"form__textinput form__textinput_type_edit-description",required:!0,minLength:"2",maxLength:"200"}),Object(a.jsx)("span",{className:"form__error",id:"description-error"})]})]}),Object(a.jsxs)(p,{name:"adding",isOpen:_,onClose:N,closePopup:S,title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",buttonText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",children:[Object(a.jsxs)("div",{className:"form__input-container",children:[Object(a.jsx)("input",{name:"name",type:"text",className:"form__textinput form__textinput_type_adding-name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",required:!0,minLength:"2",maxLength:"30"}),Object(a.jsx)("span",{className:"form__error",id:"name-error"})]}),Object(a.jsxs)("div",{className:"form__input-container",children:[Object(a.jsx)("input",{name:"link-address",type:"url",className:"form__textinput form__textinput_type_adding-link-address",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(a.jsx)("span",{className:"form__error",id:"link-address-error"})]})]}),Object(a.jsx)(d,{onClosePopup:S,onClose:N,card:C})]})},x=(n(12),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))});o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(O,{})}),document.getElementById("root")),x()}},[[13,1,2]]]);
//# sourceMappingURL=main.1df388df.chunk.js.map